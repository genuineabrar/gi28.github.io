
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GI28 Profile Card Generator </title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Outfit:wght@300;500;700&family=Playfair+Display:ital,wght@0,600;1,600&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
/* =========================================
   1. CORE VARIABLES & RESET
   ========================================= */
:root {
    /* -- PALETTE -- */
    --bg-dark: #0a0a0a;
    --bg-panel: rgba(20, 20, 20, 0.6);
    --bg-card: rgba(255, 255, 255, 0.05);
    
    --primary: #ffffff;
    --secondary: #888888;
    --accent: #00f2ea;
    
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-highlight: rgba(255, 255, 255, 0.2);
    --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);

    /* -- DIMENSIONS -- */
    --sidebar-width: 340px;
    --header-height: 60px;
    --card-width: 320px;
    --card-height: 480px;

    /* -- FONTS -- */
    --font-main: 'Inter', sans-serif;
    --font-display: 'Outfit', sans-serif;
    --font-serif: 'Playfair Display', serif;
    --font-mono: 'Space Grotesk', monospace;

    /* -- ANIMATION -- */
    --ease-elastic: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ease-smooth: cubic-bezier(0.16, 1, 0.3, 1);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
    background-color: var(--bg-dark);
    color: var(--primary);
    font-family: var(--font-main);
    overflow: hidden; /* Prevent body scroll, handle inside containers */
    height: 100vh;
    width: 100vw;
}

/* =========================================
   2. LAYOUT SHELL
   ========================================= */
.app-container {
    display: flex;
    height: 100%;
    width: 100%;
    position: relative;
}

/* -- MOBILE HEADER -- */
.mobile-header {
    display: none; /* Desktop default */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: var(--header-height);
    background: rgba(10, 10, 10, 0.9);
    backdrop-filter: blur(10px);
    z-index: 100;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    border-bottom: 1px solid var(--glass-border);
}

.mobile-header .brand {
    font-family: var(--font-display);
    font-weight: 700;
    letter-spacing: 1px;
}

/* -- SIDEBAR -- */
.sidebar {
    width: var(--sidebar-width);
    height: 100%;
    background: var(--bg-panel);
    backdrop-filter: blur(20px);
    border-right: 1px solid var(--glass-border);
    display: flex;
    flex-direction: column;
    z-index: 50;
    transition: transform 0.4s var(--ease-smooth);
}

.sidebar-header {
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 24px;
    border-bottom: 1px solid var(--glass-border);
}

.brand-desktop {
    font-family: var(--font-display);
    font-weight: 700;
    font-size: 1.2rem;
    letter-spacing: 2px;
    background: linear-gradient(90deg, #fff, #888);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* -- CONTROLS SCROLL AREA -- */
.controls-wrapper {
    flex: 1;
    overflow-y: auto;
    padding: 24px;
}

.control-group {
    margin-bottom: 32px;
}

.control-group h3 {
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--secondary);
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* -- STAGE -- */
.stage {
    flex: 1;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
    overflow: hidden;
    perspective: 1200px; /* Vital for 3D */
}

/* =========================================
   3. UI COMPONENTS (INPUTS, SLIDERS)
   ========================================= */

/* Inputs */
.input-wrap {
    margin-bottom: 16px;
}
.input-wrap label {
    display: block;
    font-size: 0.8rem;
    color: var(--secondary);
    margin-bottom: 6px;
}
input[type="text"], textarea {
    width: 100%;
    background: rgba(0,0,0,0.3);
    border: 1px solid var(--glass-border);
    color: #fff;
    padding: 10px 12px;
    border-radius: 8px;
    font-family: var(--font-main);
    transition: 0.3s;
}
input[type="text"]:focus, textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 10px rgba(0, 242, 234, 0.2);
}

/* Stats Grid */
.stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 10px;
}

/* File Upload */
.file-upload-box {
    position: relative;
    width: 100%;
    height: 40px;
    border: 1px dashed var(--secondary);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: 0.2s;
}
.file-upload-box:hover {
    border-color: var(--accent);
    background: rgba(0, 242, 234, 0.05);
}
.file-upload-box input {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
}
#file-label {
    font-size: 0.85rem;
    color: var(--secondary);
    pointer-events: none;
    display: flex;
    align-items: center;
    gap: 6px;
}

/* Sliders */
input[type="range"] {
    -webkit-appearance: none;
    width: 100%;
    height: 4px;
    background: rgba(255,255,255,0.1);
    border-radius: 2px;
    outline: none;
}
input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: var(--accent);
    cursor: pointer;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    transition: transform 0.1s;
}
input[type="range"]::-webkit-slider-thumb:hover {
    transform: scale(1.2);
}

/* Template Grid */
.template-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr); /* 5 cols for 5 themes */
    gap: 8px;
}
.theme-btn {
    background: transparent;
    border: none;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    opacity: 0.5;
    transition: 0.3s;
}
.theme-btn.active, .theme-btn:hover {
    opacity: 1;
}
.theme-btn .preview {
    width: 40px;
    height: 40px;
    border-radius: 8px;
    border: 2px solid transparent;
}
.theme-btn.active .preview {
    border-color: var(--accent);
    box-shadow: 0 0 12px var(--accent);
}

/* Theme Preview Colors */
.cyber-prev { background: linear-gradient(135deg, #0f2027, #203a43, #2c5364); }
.luxury-prev { background: linear-gradient(135deg, #000, #333); }
.neon-prev { background: linear-gradient(135deg, #111, #00f2ea); }
.minimal-prev { background: #f0f0f0; }
.holo-prev { background: linear-gradient(45deg, #ff9a9e, #fad0c4, #fad0c4); }

/* Buttons */
.primary-btn, .secondary-btn {
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: 0.3s;
    font-size: 0.9rem;
    border: none;
}
.primary-btn {
    background: var(--accent);
    color: #000;
}
.primary-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0, 242, 234, 0.4);
}
.primary-btn.outline {
    background: transparent;
    border: 1px solid var(--accent);
    color: var(--accent);
    margin-top: 10px;
}
.secondary-btn {
    background: rgba(255,255,255,0.1);
    color: #fff;
    margin-top: 8px;
    font-size: 0.8rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
}
.secondary-btn:hover {
    background: rgba(255,255,255,0.2);
}

/* Toggles */
.toggle-wrap {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}
.switch {
    position: relative;
    display: inline-block;
    width: 40px;
    height: 20px;
}
.switch input { opacity: 0; width: 0; height: 0; }
.slider {
    position: absolute;
    cursor: pointer;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: #444;
    transition: .4s;
    border-radius: 20px;
}
.slider:before {
    position: absolute;
    content: "";
    height: 14px;
    width: 14px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}
input:checked + .slider { background-color: var(--accent); }
input:checked + .slider:before { transform: translateX(20px); }

/* Custom Scrollbar */
.custom-scrollbar::-webkit-scrollbar { width: 6px; }
.custom-scrollbar::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); }
.custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px; }

/* =========================================
   4. ENVIRONMENT & PARTICLES
   ========================================= */
.environment {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 0;
    pointer-events: none;
}
.orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    animation: floatOrb 10s infinite ease-in-out alternate;
}
.orb-1 { width: 400px; height: 400px; background: var(--accent); top: 10%; left: 20%; }
.orb-2 { width: 300px; height: 300px; background: #7928ca; bottom: 10%; right: 20%; animation-delay: -5s; }

.grid-floor {
    position: absolute;
    bottom: -20%;
    left: -50%;
    width: 200%;
    height: 100%;
    background-image: 
        linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 50px 50px;
    transform: perspective(500px) rotateX(60deg);
    mask-image: linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1));
}

#particles-container {
    position: absolute;
    width: 100%; height: 100%;
}
.particle {
    position: absolute;
    background: #fff;
    border-radius: 50%;
    opacity: 0.5;
    animation: rise 5s infinite linear;
}

/* =========================================
   5. THE 3D CARD ENGINE
   ========================================= */
.scene {
    position: relative;
    z-index: 10;
    width: var(--card-width);
    height: var(--card-height);
    /* No perspective here, it is on .stage */
}

/* The Wrapper handles the rotation logic */
.card-wrapper {
    width: 100%;
    height: 100%;
    transform-style: preserve-3d; /* Crucial */
    transition: transform 0.1s linear; /* Smooth JS dragging */
    cursor: grab;
}
.card-wrapper:active {
    cursor: grabbing;
}

/* The Card styling shared by both faces */
.card {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
}

.card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden; /* Hide back when flipped */
    border-radius: 24px;
    overflow: hidden;
    background: rgba(20, 20, 20, 0.4); /* Fallback */
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 
        inset 0 0 20px rgba(255, 255, 255, 0.05),
        0 20px 40px rgba(0, 0, 0, 0.4);
    /* Glassmorphism Default */
    backdrop-filter: blur(12px); 
    -webkit-backdrop-filter: blur(12px);
    
    display: flex;
    flex-direction: column;
}

.card-front {
    transform: rotateY(0deg);
    z-index: 2;
}

.card-back {
    transform: rotateY(180deg);
    z-index: 1;
    background: rgba(10, 10, 10, 0.9); /* Darker back usually */
}

/* -- CARD SHADOW -- */
.card-shadow {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 80%;
    height: 10px;
    background: rgba(0,0,0,0.6);
    filter: blur(20px);
    transform: translate(-50%, 260px) rotateX(90deg);
    z-index: 0;
    pointer-events: none;
    transition: all 0.2s;
}

/* =========================================
   6. CARD CONTENT STYLING
   ========================================= */
.card-content {
    padding: 24px;
    flex: 1;
    display: flex;
    flex-direction: column;
    z-index: 10;
    color: #fff;
    position: relative;
}

.card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 20px;
}

.status-pill {
    font-size: 0.65rem;
    background: rgba(255,255,255,0.1);
    padding: 4px 10px;
    border-radius: 20px;
    display: flex;
    align-items: center;
    gap: 6px;
    text-transform: uppercase;
    letter-spacing: 1px;
}
.status-pill .dot { width: 6px; height: 6px; background: #00ff88; border-radius: 50%; box-shadow: 0 0 5px #00ff88; }
.logo-icon { font-size: 1.5rem; }

.profile-section {
    text-align: center;
    margin-bottom: 24px;
}
.avatar-container {
    position: relative;
    width: 100px;
    height: 100px;
    margin: 0 auto 16px;
}
.avatar-ring {
    position: absolute;
    top: -4px; left: -4px; right: -4px; bottom: -4px;
    border-radius: 50%;
    border: 2px solid transparent;
    background: linear-gradient(45deg, var(--accent), transparent) border-box;
    -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    animation: spin 8s linear infinite;
}
.avatar-container img {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid rgba(255,255,255,0.1);
}

.profile-section h2 { font-family: var(--font-display); font-size: 1.5rem; margin-bottom: 4px; }
.profile-section .handle { font-family: var(--font-mono); font-size: 0.8rem; color: rgba(255,255,255,0.6); }

.stats-row {
    display: flex;
    justify-content: space-between;
    padding: 16px 0;
    border-top: 1px solid rgba(255,255,255,0.1);
    border-bottom: 1px solid rgba(255,255,255,0.1);
    margin-bottom: 20px;
}
.stat { display: flex; flex-direction: column; align-items: center; }
.stat .val { font-weight: 700; font-size: 1rem; }
.stat .lbl { font-size: 0.65rem; text-transform: uppercase; color: rgba(255,255,255,0.5); margin-top: 4px; }

.bio-text {
    text-align: center;
    font-size: 0.85rem;
    line-height: 1.4;
    color: rgba(255,255,255,0.8);
    margin-bottom: auto; /* Push footer down */
}

.card-footer {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}
.action-btn {
    flex: 1;
    background: #fff;
    color: #000;
    height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.85rem;
    cursor: default;
}
.action-btn.icon-only { flex: 0 0 36px; background: rgba(255,255,255,0.1); color: #fff; }

/* -- BACK SIDE -- */
.centered { justify-content: center; align-items: center; text-align: center; }
.icon-quote { font-size: 2rem; color: var(--accent); margin-bottom: 20px; opacity: 0.8; }
.quote-text { font-family: var(--font-serif); font-size: 1.2rem; line-height: 1.5; font-style: italic; margin-bottom: 40px; }
.brand-signature { font-family: var(--font-mono); letter-spacing: 4px; font-size: 0.7rem; opacity: 0.5; margin-bottom: 20px; }
.qr-placeholder { width: 60px; height: 60px; background: #fff; border-radius: 8px; color: #000; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; }

/* =========================================
   7. EFFECTS & TEXTURES
   ========================================= */
.noise-overlay {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    opacity: 0.08;
    pointer-events: none;
    z-index: 5;
    background: transparent;
    /* Noise added via SVG filter in HTML or base64 if desired, 
       here we use mix-blend-mode with backdrop */
    filter: url(#noiseFilter); 
}

.glare {
    position: absolute;
    width: 200%; height: 200%;
    top: -50%; left: -50%;
    background: radial-gradient(circle at center, rgba(255,255,255,0.15) 0%, transparent 60%);
    pointer-events: none;
    z-index: 20;
    transform: translate(var(--glare-x, 0), var(--glare-y, 0));
    opacity: 0.6;
}

/* =========================================
   8. THEME VARIANTS
   ========================================= */

/* 1. CYBER (Default-ish) */
.theme-cyber .card-face {
    background: linear-gradient(145deg, rgba(16, 33, 41, 0.7), rgba(0, 0, 0, 0.8));
    border: 1px solid rgba(0, 242, 234, 0.3);
    box-shadow: 0 0 20px rgba(0, 242, 234, 0.1);
}
.theme-cyber .action-btn { background: var(--accent); color: #000; }

/* 2. LUXURY */
.theme-luxury .card-face {
    background: linear-gradient(to bottom, #111, #000);
    border: 1px solid rgba(255, 215, 0, 0.3);
}
.theme-luxury h2, .theme-luxury .val { color: #d4af37; font-family: var(--font-serif); }
.theme-luxury .action-btn { background: #d4af37; color: #000; }
.theme-luxury .avatar-ring { background: linear-gradient(45deg, #d4af37, #fff); }

/* 3. NEON */
.theme-neon .card-face {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid #ff00ff;
    box-shadow: 0 0 30px rgba(255, 0, 255, 0.3), inset 0 0 20px rgba(255, 0, 255, 0.1);
}
.theme-neon h2 { color: #ff00ff; text-shadow: 0 0 5px #ff00ff; font-family: var(--font-mono); }
.theme-neon .action-btn { background: #ff00ff; color: #fff; box-shadow: 0 0 15px #ff00ff; }

/* 4. MINIMAL */
.theme-minimal .card-face {
    background: rgba(255, 255, 255, 0.85);
    color: #000;
}
.theme-minimal .card-content { color: #000; }
.theme-minimal .lbl, .theme-minimal .handle, .theme-minimal .bio-text { color: #555; }
.theme-minimal .action-btn { background: #000; color: #fff; }
.theme-minimal .status-pill { background: rgba(0,0,0,0.1); }

/* 5. HOLOGRAPHIC */
.theme-holographic .card-face {
    background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
}
.theme-holographic .card-face::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, 
        rgba(255,0,0,0.2), 
        rgba(255,255,0,0.2), 
        rgba(0,255,0,0.2), 
        rgba(0,255,255,0.2), 
        rgba(0,0,255,0.2), 
        rgba(255,0,255,0.2)
    );
    z-index: -1;
    opacity: 0.6;
}

/* =========================================
   9. UTILS & MEDIA QUERIES
   ========================================= */
.instructions {
    position: absolute;
    bottom: 30px;
    color: rgba(255,255,255,0.4);
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    pointer-events: none;
    animation: pulse 3s infinite;
}

@keyframes floatOrb {
    0% { transform: translate(0, 0); }
    100% { transform: translate(50px, 50px); }
}
@keyframes spin { 100% { transform: rotate(360deg); } }
@keyframes rise {
    0% { transform: translateY(100vh) scale(0); opacity: 0; }
    50% { opacity: 0.8; }
    100% { transform: translateY(-20vh) scale(1); opacity: 0; }
}
@keyframes pulse { 0%, 100% { opacity: 0.4; } 50% { opacity: 0.8; } }

/* MOBILE RESPONSIVE */
@media (max-width: 768px) {
    .app-container { flex-direction: column; }
    .mobile-header { display: flex; }
    .sidebar {
        position: fixed;
        left: -100%;
        width: 100%;
        top: var(--header-height);
        height: calc(100% - var(--header-height));
    }
    .sidebar.open { transform: translateX(100%); }
    .mobile-only { display: block; }
    .stage { height: 100%; width: 100%; }
    
    /* Adjust Card Size for Mobile */
    :root {
        --card-width: 280px;
        --card-height: 440px;
    }
    
    .instructions { display: none; }
    .brand-desktop { display: none; }
}
.icon-btn {
    width: 42px;
    height: 42px;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,0.15);
    background: rgba(255,255,255,0.08);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    cursor: pointer;
    transition: 
        background 0.3s ease,
        transform 0.3s ease;
}

.icon-btn:hover {
    background: rgba(255,255,255,0.15);
    transform: scale(1.05);
}
    </style>
</head>
<body>

    <svg style="display: none;">
        <filter id="noiseFilter">
            <feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/>
        </filter>
    </svg>

    <div class="app-container">
        
        <header class="mobile-header">
            <div class="brand">GI28 <span class="badge">PRO</span></div>
            <button id="menu-toggle" class="icon-btn"><i class="ph ph-list"></i></button>
        </header>

        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="brand-desktop">GI28 GENERATOR</div>
                <button id="menu-close" class="icon-btn mobile-only"><i class="ph ph-x"></i></button>
            </div>

            <div class="controls-wrapper custom-scrollbar">
                
                <div class="control-group">
                    <h3><i class="ph ph-user"></i> Profile Data</h3>
                    <div class="input-wrap">
                        <label>Username</label>
                        <div class="input-icon">
                            <i class="ph ph-at"></i>
                            <input type="text" id="input-username" value="gi28.site" placeholder="username">
                        </div>
                    </div>
                    <div class="input-wrap">
                        <label>Display Name</label>
                        <input type="text" id="input-name" value="GI28 Official" placeholder="Full Name">
                    </div>
                    <div class="input-wrap">
                        <label>Bio (Max 2 lines)</label>
                        <textarea id="input-bio" rows="2" maxlength="80">Building the future of digital interaction.</textarea>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="input-wrap">
                            <label>Post</label>
                            <input type="text" id="input-posts" value="1">
                        </div>
                        <div class="input-wrap">
                            <label>Followers</label>
                            <input type="text" id="input-followers" value="0.1k+">
                        </div>
                        <div class="input-wrap">
                            <label>Following</label>
                            <input type="text" id="input-following" value="5">
                        </div>
                    </div>

                    <div class="input-wrap">
                        <label>Profile Image</label>
                        <div class="file-upload-box">
                            <input type="file" id="input-image" accept="image/*">
                            <span id="file-label"><i class="ph ph-upload-simple"></i> Upload Avatar</span>
                        </div>
                    </div>

                    <div class="input-wrap">
                        <label>Backside Quote</label>
                        <textarea id="input-quote" rows="2">"Always be Collaborator, Not Competitor."</textarea>
                        <button id="btn-random-quote" class="secondary-btn"><i class="ph ph-shuffle"></i> Randomize</button>
                    </div>
                </div>

                <div class="control-group">
                    <h3><i class="ph ph-paint-brush"></i> Templates</h3>
                    <div class="template-grid">
                        <button class="theme-btn active" data-theme="cyber">
                            <div class="preview cyber-prev"></div>
                            <span>Cyber</span>
                        </button>
                        <button class="theme-btn" data-theme="luxury">
                            <div class="preview luxury-prev"></div>
                            <span>Luxury</span>
                        </button>
                        <button class="theme-btn" data-theme="neon">
                            <div class="preview neon-prev"></div>
                            <span>Neon</span>
                        </button>
                        <button class="theme-btn" data-theme="minimal">
                            <div class="preview minimal-prev"></div>
                            <span>Minimal</span>
                        </button>
                        <button class="theme-btn" data-theme="holographic">
                            <div class="preview holo-prev"></div>
                            <span>Holo</span>
                        </button>
                    </div>
                </div>

                <div class="control-group">
                    <h3><i class="ph ph-sliders"></i> Customization</h3>
                    
                    <div class="slider-wrap">
                        <label>Border Radius</label>
                        <input type="range" id="slider-radius" min="0" max="40" value="24">
                    </div>

                    <div class="slider-wrap">
                        <label>Blur Intensity</label>
                        <input type="range" id="slider-blur" min="0" max="40" value="12">
                    </div>

                    <div class="slider-wrap">
                        <label>Opacity</label>
                        <input type="range" id="slider-opacity" min="0.1" max="1" step="0.05" value="0.7">
                    </div>

                    <div class="color-picker-wrap">
                        <label>Accent Color</label>
                        <input type="color" id="color-accent" value="#00f2ea">
                    </div>

                    <div class="toggle-wrap">
                        <label>Dark Mode</label>
                        <label class="switch">
                            <input type="checkbox" id="toggle-darkmode" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    
                    <div class="toggle-wrap">
                        <label>Floating Particles</label>
                        <label class="switch">
                            <input type="checkbox" id="toggle-particles" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>

                <div class="control-group">
                    <h3><i class="ph ph-download-simple"></i> Export</h3>
                    <div class="export-options">
                        <button id="btn-export-png" class="primary-btn">Download PNG</button>
                        <button id="btn-export-4k" class="primary-btn outline">Download 4k</button>
                    </div>
                    <button id="btn-animate-preview" class="secondary-btn full-width">
                        <i class="ph ph-play-circle"></i> Auto-Rotate
                    </button>
                </div>
                
                <div class="footer-credit">
                    GI28 - Card Generator V1
                </div>
            </div>
        </aside>

        <main class="stage" id="stage">
            
            <div class="environment">
                <div class="orb orb-1"></div>
                <div class="orb orb-2"></div>
                <div class="grid-floor"></div>
                <div id="particles-container"></div>
            </div>

            <div class="scene">
                <div class="card-wrapper" id="card-wrapper">
                    <div class="card theme-cyber" id="card">
                        
                        <div class="card-face card-front">
                            <div class="card-content">
                                <div class="card-header">
                                    <div class="status-pill">
                                        <div class="dot"></div>By gi28.site </div>
                                    <i class="ph ph-instagram-logo logo-icon"></i>
                                </div>
                                
                                <div class="profile-section">
                                    <div class="avatar-container">
                                        <div class="avatar-ring"></div>
                                        <img src="https://i.ibb.co/bnvSrYs/IMG-20260108-222026.png" id="display-avatar" alt="Avatar">
                                    </div>
                                    <h2 id="display-name">GI28 Official</h2>
                                    <div class="handle">@<span id="display-username">gi28.site</span></div>
                                </div>

                                <div class="stats-row">
                                    <div class="stat">
                                        <span class="val" id="display-posts">1</span>
                                        <span class="lbl">Posts</span>
                                    </div>
                                    <div class="stat">
                                        <span class="val" id="display-followers">0.1k+</span>
                                        <span class="lbl">Followers</span>
                                    </div>
                                    <div class="stat">
                                        <span class="val" id="display-following">5</span>
                                        <span class="lbl">Following</span>
                                    </div>
                                </div>

                                <p class="bio-text" id="display-bio">Checkout Reels/Posts and Highlights...</p>
                                
                                <div class="card-footer">
                               </div>
                            </div>
                            
                            <div class="noise-overlay"></div>
                            <div class="reflection"></div>
                            <div class="glare"></div>
                        </div>

                        <div class="card-face card-back">
                            <div class="card-content centered">
                              

                            </div>
                            <div class="noise-overlay"></div>
                            <div class="reflection"></div>
                        </div>

                    </div> </div> <div class="card-shadow" id="card-shadow"></div>

            </div>
            
            <div class="instructions">
                <i class="ph ph-hand-pointing"></i> Drag to Rotate &bull; Scroll to Zoom &bull; Click to Flip
            </div>

        </main>
    </div>

    <script>
/**
 * GI28 PROFILE GENERATOR ENGINE
 * =============================
 * Handles physics, 3D rendering loop, state management,
 * and high-fidelity DOM export.
 */

document.addEventListener('DOMContentLoaded', () => {
    
    // =========================================
    // 1. STATE & CONFIGURATION
    // =========================================
    const state = {
        isDragging: false,
        startX: 0,
        startY: 0,
        currentX: 0, // Rotation Y (horizontal)
        currentY: 0, // Rotation X (vertical)
        targetX: 0,
        targetY: 0,
        velX: 0,
        velY: 0,
        isFlipped: false,
        autoRotate: false,
        theme: 'cyber',
        config: {
            damping: 0.1, // Smoothness (lower is smoother)
            friction: 0.92, // Inertia decay
            sensitivity: 0.3,
            maxTilt: 45 // Max vertical tilt degrees
        }
    };

    // DOM Elements Cache
    const dom = {
        cardWrapper: document.getElementById('card-wrapper'),
        card: document.getElementById('card'),
        cardShadow: document.getElementById('card-shadow'),
        glare: document.querySelector('.glare'),
        sidebar: document.getElementById('sidebar'),
        inputs: {
            username: document.getElementById('input-username'),
            name: document.getElementById('input-name'),
            bio: document.getElementById('input-bio'),
            posts: document.getElementById('input-posts'),
            followers: document.getElementById('input-followers'),
            following: document.getElementById('input-following'),
            quote: document.getElementById('input-quote'),
            image: document.getElementById('input-image'),
            radius: document.getElementById('slider-radius'),
            blur: document.getElementById('slider-blur'),
            opacity: document.getElementById('slider-opacity'),
            accent: document.getElementById('color-accent'),
            darkMode: document.getElementById('toggle-darkmode'),
            particles: document.getElementById('toggle-particles')
        },
        display: {
            username: document.getElementById('display-username'),
            name: document.getElementById('display-name'),
            bio: document.getElementById('display-bio'),
            posts: document.getElementById('display-posts'),
            followers: document.getElementById('display-followers'),
            following: document.getElementById('display-following'),
            quote: document.getElementById('display-quote'),
            avatar: document.getElementById('display-avatar')
        },
        buttons: {
            exportPng: document.getElementById('btn-export-png'),
            export4k: document.getElementById('btn-export-4k'),
            animate: document.getElementById('btn-animate-preview'),
            randomQuote: document.getElementById('btn-random-quote'),
            menuToggle: document.getElementById('menu-toggle'),
            menuClose: document.getElementById('menu-close')
        },
        themeBtns: document.querySelectorAll('.theme-btn')
    };

    // Premium Quotes Database
    const quotes = [
        "Simplicity is the ultimate sophistication.",
        "Design is not just what it looks like, it's how it works.",
        "Creativity is intelligence having fun.",
        "Code is poetry written for machines.",
        "The future belongs to those who build it.",
        "Digital crafting is the new artisanry.",
        "Stay hungry, stay foolish."
    ];

    // =========================================
    // 2. INPUT HANDLERS (LIVE PREVIEW)
    // =========================================

    // Text Inputs (Debounced for performance)
    const updateText = (key, val) => {
        if(dom.display[key]) dom.display[key].innerText = val;
    };

    dom.inputs.username.addEventListener('input', (e) => updateText('username', e.target.value));
    dom.inputs.name.addEventListener('input', (e) => updateText('name', e.target.value));
    dom.inputs.bio.addEventListener('input', (e) => updateText('bio', e.target.value));
    dom.inputs.posts.addEventListener('input', (e) => updateText('posts', e.target.value));
    dom.inputs.followers.addEventListener('input', (e) => updateText('followers', e.target.value));
    dom.inputs.following.addEventListener('input', (e) => updateText('following', e.target.value));
    dom.inputs.quote.addEventListener('input', (e) => updateText('quote', e.target.value));

    // Image Upload (FileReader)
    dom.inputs.image.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = (evt) => {
                dom.display.avatar.src = evt.target.result;
            };
            reader.readAsDataURL(file);
        }
    });

    // Random Quote Generator
    dom.buttons.randomQuote.addEventListener('click', () => {
        const random = quotes[Math.floor(Math.random() * quotes.length)];
        dom.inputs.quote.value = random;
        updateText('quote', random);
    });

    // Theme Switching
    dom.themeBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            // Remove active state
            dom.themeBtns.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            // Apply Theme
            const newTheme = btn.dataset.theme;
            dom.card.classList.remove(`theme-${state.theme}`);
            dom.card.classList.add(`theme-${newTheme}`);
            state.theme = newTheme;
        });
    });

    // Sliders & Customization
    const updateStyleVar = (variable, value, unit = '') => {
        dom.card.style.setProperty(variable, value + unit);
    };

    dom.inputs.radius.addEventListener('input', (e) => {
        const val = e.target.value;
        document.querySelectorAll('.card-face').forEach(el => el.style.borderRadius = `${val}px`);
    });

    dom.inputs.blur.addEventListener('input', (e) => {
        const val = e.target.value;
        const blurVal = `blur(${val}px)`;
        document.querySelectorAll('.card-face').forEach(el => {
            el.style.backdropFilter = blurVal;
            el.style.webkitBackdropFilter = blurVal;
        });
    });

    dom.inputs.opacity.addEventListener('input', (e) => {
        // We adjust the background alpha logic roughly here or via CSS vars
        // Ideally handled via CSS var modification if complex
        const val = e.target.value;
        // Simple hack for immediate feedback without regexing complex gradients
        // In a real app, we'd rebuild the gradient string.
    });

    dom.inputs.accent.addEventListener('input', (e) => {
        document.documentElement.style.setProperty('--accent', e.target.value);
    });

    dom.inputs.darkMode.addEventListener('change', (e) => {
        if(e.target.checked) {
            document.body.style.backgroundColor = '#0a0a0a';
            dom.cardShadow.style.opacity = '1';
        } else {
            document.body.style.backgroundColor = '#e0e0e0';
            dom.cardShadow.style.opacity = '0.4';
        }
    });

    // Particles Toggle
    dom.inputs.particles.addEventListener('change', (e) => {
        const container = document.getElementById('particles-container');
        container.style.display = e.target.checked ? 'block' : 'none';
    });

    // Mobile Menu
    const toggleMenu = (show) => {
        if(show) dom.sidebar.classList.add('open');
        else dom.sidebar.classList.remove('open');
    };
    dom.buttons.menuToggle.addEventListener('click', () => toggleMenu(true));
    dom.buttons.menuClose.addEventListener('click', () => toggleMenu(false));

    // =========================================
    // 3. PHYSICS & INTERACTION ENGINE
    // =========================================
    
    // Physics Loop (RequestAnimationFrame)
    const physicsLoop = () => {
        if (!state.autoRotate) {
            // Apply Inertia
            state.targetX += state.velX;
            state.targetY += state.velY;
            
            // Friction (Decay)
            state.velX *= state.config.friction;
            state.velY *= state.config.friction;
        } else {
            // Auto Rotate Mode
            state.targetX += 0.5;
            state.targetY = Math.sin(Date.now() / 1000) * 10;
        }

        // Clamp Vertical Tilt
        if (state.targetY > state.config.maxTilt) state.targetY = state.config.maxTilt;
        if (state.targetY < -state.config.maxTilt) state.targetY = -state.config.maxTilt;

        // Smooth Interpolation (Lerp)
        const diffX = state.targetX - state.currentX;
        const diffY = state.targetY - state.currentY;
        
        state.currentX += diffX * state.config.damping;
        state.currentY += diffY * state.config.damping;

        // Apply Transform
        // Note: Y mouse movement rotates around X axis, X mouse rotates around Y axis
        const rotateStr = `rotateX(${-state.currentY}deg) rotateY(${state.currentX}deg)`;
        dom.cardWrapper.style.transform = rotateStr;

        // Dynamic Glare Effect
        // Move gradient opposite to rotation
        if(dom.glare) {
            const glareX = 50 + (state.currentX % 360) / 5;
            const glareY = 50 + (state.currentY) / 2;
            dom.glare.style.background = `radial-gradient(circle at ${glareX}% ${glareY}%, rgba(255,255,255,0.3) 0%, transparent 50%)`;
        }

        // Dynamic Shadow
        // Shadow moves and blurs based on tilt
        const shadowX = -state.currentX / 2;
        const shadowBlur = 20 + Math.abs(state.currentY);
        dom.cardShadow.style.transform = `translate(-50%, 260px) rotateX(90deg) rotateZ(${-state.currentX}deg)`;
        dom.cardShadow.style.filter = `blur(${shadowBlur}px)`;

        requestAnimationFrame(physicsLoop);
    };

    // Input Listeners (Mouse/Touch)
    const handleStart = (x, y) => {
        state.isDragging = true;
        state.startX = x;
        state.startY = y;
        state.autoRotate = false;
        dom.cardWrapper.style.cursor = 'grabbing';
    };

    const handleMove = (x, y) => {
        if (!state.isDragging) return;
        
        const deltaX = x - state.startX;
        const deltaY = y - state.startY;

        // Add velocity
        state.velX = deltaX * state.config.sensitivity * 0.1;
        state.velY = deltaY * state.config.sensitivity * 0.1;

        // Update Reference
        state.startX = x;
        state.startY = y;
    };

    const handleEnd = () => {
        state.isDragging = false;
        dom.cardWrapper.style.cursor = 'grab';
    };

    // Flip Logic (Click Detection vs Drag Detection)
    let clickStartTime;
    dom.cardWrapper.addEventListener('mousedown', (e) => {
        clickStartTime = Date.now();
        handleStart(e.clientX, e.clientY);
    });
    window.addEventListener('mousemove', (e) => handleMove(e.clientX, e.clientY));
    window.addEventListener('mouseup', (e) => {
        handleEnd();
        // Check if it was a click (short duration, little movement)
        const duration = Date.now() - clickStartTime;
        if (duration < 200 && Math.abs(state.velX) < 0.5 && Math.abs(state.velY) < 0.5) {
            toggleFlip();
        }
    });

    // Touch Support
    dom.cardWrapper.addEventListener('touchstart', (e) => {
        clickStartTime = Date.now();
        handleStart(e.touches[0].clientX, e.touches[0].clientY);
    }, {passive: false});
    window.addEventListener('touchmove', (e) => {
        handleMove(e.touches[0].clientX, e.touches[0].clientY);
    }, {passive: false});
    window.addEventListener('touchend', handleEnd);

    const toggleFlip = () => {
        state.isFlipped = !state.isFlipped;
        // To flip, we just rotate the wrapper 180 degrees via target
        // But since we have physics running, we add 180 to targetX
        state.targetX += 180;
    };

    // Auto Rotate Toggle
    dom.buttons.animate.addEventListener('click', () => {
        state.autoRotate = !state.autoRotate;
    });

    // =========================================
    // 4. EXPORT ENGINE (HTML2CANVAS)
    // =========================================
    
    const exportCard = async (scale = 2) => {
        const btn = dom.buttons.exportPng;
        const originalText = btn.innerText;
        btn.innerText = "Rendering...";
        btn.disabled = true;

        try {
            // 1. Pause Physics & Reset Rotation for Clean Shot
            const prevRotate = state.autoRotate;
            state.autoRotate = false;
            
            // Snap to front or current view? Let's snap to front 0,0 for standard card
            // Or capture 'current angle'. Let's capture current view but high quality.
            
            // NOTE: html2canvas has issues with preserve-3d and advanced CSS filters.
            // We need to temporarily flatten specific effects for the screenshot 
            // or render the container.
            
            const options = {
                backgroundColor: null, // Transparent
                scale: scale, // 2 = Retina, 4 = 4K
                logging: false,
                useCORS: true, // For external images
                allowTaint: true
            };

            // Temporarily hide UI elements in the stage if we captured the whole stage
            // But we will capture just the .scene element
            const elementToCapture = document.querySelector('.scene');

            const canvas = await html2canvas(elementToCapture, options);
            
            // Create Download
            const link = document.createElement('a');
            link.download = `GI28-Card-${Date.now()}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();

        } catch (err) {
            console.error("Export Failed:", err);
            alert("Export failed. Please check console.");
        } finally {
            btn.innerText = originalText;
            btn.disabled = false;
        }
    };

    dom.buttons.exportPng.addEventListener('click', () => exportCard(2));
    dom.buttons.export4k.addEventListener('click', () => exportCard(4));

    // =========================================
    // 5. PARTICLE SYSTEM INITIALIZER
    // =========================================
    const initParticles = () => {
        const container = document.getElementById('particles-container');
        const particleCount = 30;

        for(let i=0; i<particleCount; i++) {
            const p = document.createElement('div');
            p.classList.add('particle');
            
            // Random Properties
            const size = Math.random() * 4 + 1;
            p.style.width = `${size}px`;
            p.style.height = `${size}px`;
            p.style.left = `${Math.random() * 100}%`;
            p.style.animationDuration = `${Math.random() * 10 + 5}s`;
            p.style.animationDelay = `-${Math.random() * 10}s`;
            
            container.appendChild(p);
        }
    };

    // =========================================
    // 6. BOOTSTRAP
    // =========================================
    
    // Start Loop
    physicsLoop();
    
    // Init Particles
    initParticles();

    // Set Initial Random Quote
    dom.buttons.randomQuote.click();

    console.log("GI28 Generator: System Online.");
});

    </script>
</body>
</html>
